!function(){"use strict";var n=function(n,r){return void 0===r&&(r=!0),"object"==typeof n&&(!r||function(n,r){return n&&t(r)&&n instanceof r}(n,Object))},t=function(n){return function(n){return void 0!==n}(n)&&!function(n){return null===n}(n)},r=function(t){if(function(n){return Array.isArray(n)}(t))return t.map(function(n){return r(n)});if(function(n){return/^-?(?:\d*.)?\d+$/.test(n+"")}(t))return function(n,t){return void 0===t&&(t=10),t?parseInt(n,t):parseFloat(n)}(t);if(n(t)){for(var e in t)t[e]=r(t[e]);return t}return"false"!==t&&("null"===t?null:"true"===t||t)},e=document,u=function(n,t,e){void 0===e&&(e=!0);var u=function(n,t,e){if(void 0===e&&(e=!0),!i(n,t))return null;var u=n.getAttribute(t);return e?r(u):u}(n,"data-"+t,e),c=(u+"").trim();return e&&c&&("["===c[0]&&"]"===c.slice(-1)||"{"===c[0]&&"}"===c.slice(-1))&&null!==(c=function(n){var t=null;try{t=JSON.parse(n)}catch(n){}return t}(u))?c:u},c=function(n,t){return(t||e).querySelector(n)},o=function(n){return e.forms[n]||null},a=function(n,t){return t?n.closest(t)||null:n.parentNode||null},i=function(n,t){return n.hasAttribute(t)},f=function(n,t){return n.append(t),t},l=function(n,t){return n.classList.add(t),n},s=function(n){return n&&n.preventDefault()},m=function(n,t,r,e){t.addEventListener(n,r,e)};function d(n){return new URL(n)}m("click",e,function(n){var t=o("comment");if(t){var r,e,i,l=a(n.target,"[data-task=cancel]"),m=l&&a(l,".comments[data-status]"),p=c(".comments-footer",m),v=t["comment[content]"],h=t["comment[parent]"];if(l&&m.contains(l))f(p||m,(e="in-reply",(r=t).classList.remove(e),r)),t.action=((i=d(i=t.action)).searchParams.delete("parent"),i+""),v&&(v.focus(),v.placeholder=u(v,"hint")||""),h&&(h.value=""),s(n)}},!0),m("click",e,function(n){var t=o("comment");if(t){var r,e,u,i=a(n.target,"[data-task=reply]"),m=i&&a(i,".comment"),p=c(".comment-footer",m),v=t["comment[content]"],h=t["comment[parent]"];if(i&&m.contains(i))p?(e=p,u=l(t,"in-reply"),e.before(u)):f(m,l(t,"in-reply")),t.action=function(n,t){return(n=d(n)).searchParams.set("parent",t),n+""}(t.action,r=d(i.href).searchParams.get("parent")),v&&(v.focus(),v.placeholder=i.title),h&&(h.value=r),s(n)}},!0)}();